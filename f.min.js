!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.f=e.f||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){for(var n=document.createElement(e),r=1;r<arguments.length;r++){var i=arguments[r];if(1!==r||"string"==typeof i)"string"==typeof i?a(n,t(i)):a(n,i);else for(var o in i)null!=n[o]?n[o]=i[o]:n.setAttribute(o,i[o])}return n}function r(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e),n=1;n<arguments.length;n++){var r=arguments[n];if(1!==n||"string"==typeof r)"string"==typeof r?a(t,document.createTextNode(r)):a(t,r);else for(var i in r)t.setAttribute(i,r[i])}return t}function i(e,t,n){return new o(e,t,n)}function o(e,t,n){this.View=e,this.key=t,this.initData=n,this.lookup=null!=t?{}:[],this.views=[]}function u(e,t){t.remove(function(){f(e,t)})}function a(e,t){var n=e.el||e,r=t.el||t;return t instanceof o?(t.parent=e,void s(e,t.views)):void(t.el?(n.appendChild(r),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):n.appendChild(r))}function l(e,t,n){var r=e.el||e,i=t.el||t,o=n.el||n;r.insertBefore(i,o),t.el&&(t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e)}function f(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),t.el&&(t.parent=null,t.unmount&&t.unmount())}function s(e,t){for(var n=e.el||e,r=n.firstChild,i=0;i<t.length;i++){var o=t[i],u=o.el||o;u!==r?r?l(e,o,r):a(e,o):r=r.nextSibling}for(;r;){var f=r.nextSibling;r.removing||n.removeChild(r),r=f}}o.prototype.update=function(e,t){var n=this.View,r=this.key,i=this.lookup,o=this.views,a=r?{}:[],l=[],h=[],p=[];o.length=e.length;for(var d=0;d<e.length;d++){var v=e[d],c=null!=r?v[r]:d,m=i[c];m?h[h.length]=m:(m=new n(this.initData,v),l[l.length]=m),m.update&&m.update(v),o[d]=m,a[c]=m}for(var c in i)if(!a[c]){var m=i[c];m.el.removing=!0,p[p.length]=m}this.parent&&s(this.parent,o);for(var d=0;d<o.length;d++){var v=e[d],m=o[d];m.updated&&m.updated(v)}this.lookup=a,t&&t(l,h,p);for(var d=0;d<p.length;d++){var m=p[d];m.remove?this.parent&&u(this.parent,m):this.parent&&f(this.parent,m)}return this},e.text=t,e.el=n,e.svg=r,e.list=i,e.List=o,e.mount=a,e.mountBefore=l,e.unmount=f,e.setChildren=s});