!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.f=e.f||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){for(var n=document.createElement(e),r=1;r<arguments.length;r++){var o=arguments[r];if(1!==r||"object"!=typeof o)"string"==typeof o?a(n,t(o)):a(n,o);else for(var i in o)null!=n[i]?n[i]=o[i]:n.setAttribute(i,o[i])}return n}function r(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e),n=1;n<arguments.length;n++){var r=arguments[n];if(1!==n||"object"!=typeof r)"string"==typeof r?a(t,document.createTextNode(r)):a(t,r);else for(var o in r)t.setAttribute(o,r[o])}return t}function o(e,t,n){return new i(e,t,n)}function i(e,t,n){this.View=e,this.key=t,this.initData=n,this.lookup=null!=t?{}:[],this.views=[]}function u(e,t){t.remove(function(){f(e,t)})}function a(e,t){var n=e.el||e,r=t.el||t;return t instanceof i?(t.parent=e,void s(e,t.views)):void(t.el?(n.appendChild(r),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):n.appendChild(r))}function l(e,t,n){var r=e.el||e,o=t.el||t,i=n.el||n;r.insertBefore(o,i),t.el&&(t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e)}function f(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),t.el&&(t.parent=null,t.unmount&&t.unmount())}function s(e,t){for(var n=e.el||e,r=n.firstChild,o=0;o<t.length;o++){var i=t[o],u=i.el||i;u!==r?r?l(e,i,r):a(e,i):r=r.nextSibling}for(;r;){var f=r.nextSibling;r.removing||n.removeChild(r),r=f}}i.prototype.update=function(e,t){var n=this.View,r=this.key,o=this.lookup,i=this.views,a=r?{}:[],l=[],h=[],p=[];i.length=e.length;for(var d=0;d<e.length;d++){var v=e[d],c=null!=r?v[r]:d,m=o[c];m?h[h.length]=m:(m=new n(this.initData,v),l[l.length]=m),m.update&&m.update(v),i[d]=m,a[c]=m}for(var c in o)if(!a[c]){var m=o[c];m.el.removing=!0,p[p.length]=m}this.parent&&s(this.parent,i);for(var d=0;d<i.length;d++){var v=e[d],m=i[d];m.updated&&m.updated(v)}this.lookup=a,t&&t(l,h,p);for(var d=0;d<p.length;d++){var m=p[d];m.remove?this.parent&&u(this.parent,m):this.parent&&f(this.parent,m)}return this},e.text=t,e.el=n,e.svg=r,e.list=o,e.List=i,e.mount=a,e.mountBefore=l,e.unmount=f,e.setChildren=s});