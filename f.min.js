!function(e){"use strict";function t(e,t){var n=document.createElement(e);for(var r in t)n[r]=t[r];for(var i=2;i<arguments.length;i++)o(n,arguments[i]);return n}function n(e,t,n){return new r(e,t,n)}function r(e,t,n){this.View=e,this.key=t,this.lookup=null!=t?{}:[],this.views=[],this.initData=n}function i(e,t){t.remove(function(){u(e,t)})}function o(e,t){return t instanceof r?(t.parent=e,void a(e,t.views)):void(t.el?((e.el||e).appendChild(t.el),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):(e.el||e).appendChild(t))}function l(e,t,n){t.el?((e.el||e).insertBefore(t.el,n.el||n),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):(e.el||e).insertBefore(t,n.el||n)}function u(e,t){t.el?((e.el||e).removeChild(t.el),t.parent=null,t.unmount&&t.unmount()):(e.el||e).removeChild(t)}function a(e,t){for(var n=e.firstChild,r=0;r<t.length;r++){var i=t[r],u=i.el||i;u!==n?n?l(e,i,n):o(e,i):n=n.nextSibling}for(;n;){var a=n.nextSibling;n.removing||e.removeChild(n),n=a}}r.prototype.update=function(e){for(var t=this.View,n=this.key,r=this.lookup,o={},l=this.views=new Array(e.length),h=0;h<e.length;h++){var s=e[h],f=null!=n?s[n]:h,p=r[f]||new t(this.initData);p.update&&p.update(s),l[h]=p,o[f]=p}for(var f in r)o[f]||(r[f].remove?(r[f].el.removing=!0,i(this.parent,r[f])):this.parent&&u(this.parent,r[f]));this.parent&&a(this.parent,l);for(var h=0;h<l.length;h++){var s=e[h],p=l[h];p.updated&&p.updated(s)}this.lookup=o},e.el=t,e.list=n,e.List=r,e.mount=o,e.mountBefore=l,e.unmount=u,e.setChildren=a}(this.f=this.f||{});