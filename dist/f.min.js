!function(e){"use strict";function n(e,n){var t=document.createElement(e);for(var o in n)t[o]=n[o];for(var i=2;i<arguments.length;i++)l(t,arguments[i]);return t}function t(e,n){return new o(e,n)}function o(e,n){this.View=e,this.key=n,this.lookup=null!=n?{}:[]}function i(e,n){n.remove(function(){u(e,n)})}function l(e,n){n.el?((e.el||e).appendChild(n.el),n.mount&&n.mount()):(e.el||e).appendChild(n)}function r(e,n,t){n.el?((e.el||e).insertBefore(n.el,t.el||t),n.mount&&n.mount()):(e.el||e).insertBefore(n,t.el||t)}function u(e,n){n.el?((e.el||e).removeChild(n.el),n.unmount&&n.unmount()):(e.el||e).removeChild(n)}function f(e,n){for(var t=e.firstChild,o=0;o<n.length;o++){var i=n[o],u=i.el||i;u!==t?t?r(e,i,t):l(e,i):t=t.nextSibling}for(;t;){var f=t.nextSibling;t.removing||e.removeChild(t),t=f}}o.prototype.update=function(e,n){for(var t=this.View,o=this.key,l=this.lookup,r={},h=new Array(n.length),a=0;a<n.length;a++){var m=n[a],d=null!=o?m[o]:a,s=l[d]||new t(m);h[a]=s,r[d]=s,s.update&&s.update(m)}for(var d in l)r[d]||(l[d].remove?(l[d].el.removing=!0,i(e,l[d])):u(e,l[d]));f(e,h);for(var a=0;a<n.length;a++)s.updated&&h[a].updated(n[a]);this.lookup=r},e.el=n,e.list=t,e.List=o,e.mount=l,e.mountBefore=r,e.unmount=u,e.setChildren=f}(this.f=this.f||{});