!function(e){"use strict";function t(e,t){var n=document.createElement(e);for(var r in t)null!=n[r]?n[r]=t[r]:n.setAttribute(r,t[r]);for(var i=2;i<arguments.length;i++)l(n,arguments[i]);return n}function n(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var r in t)n.setAttribute(r,t[r]);for(var i=2;i<arguments.length;i++)l(n,arguments[i]);return n}function r(e,t,n){return new i(e,t,n)}function i(e,t,n){this.View=e,this.key=t,this.lookup=null!=t?{}:[],this.views=[],this.initData=n}function o(e,t){t.remove(function(){a(e,t)})}function l(e,t){return t instanceof i?(t.parent=e,void h(e,t.views)):void(t.el?((e.el||e).appendChild(t.el),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):(e.el||e).appendChild(t))}function u(e,t,n){t.el?((e.el||e).insertBefore(t.el,n.el||n),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):(e.el||e).insertBefore(t,n.el||n)}function a(e,t){t.el?((e.el||e).removeChild(t.el),t.parent=null,t.unmount&&t.unmount()):(e.el||e).removeChild(t)}function h(e,t){for(var n=e.firstChild,r=0;r<t.length;r++){var i=t[r],o=i.el||i;o!==n?n?u(e,i,n):l(e,i):n=n.nextSibling}for(;n;){var a=n.nextSibling;n.removing||e.removeChild(n),n=a}}i.prototype.update=function(e,t){for(var n=this.View,r=this.key,i=this.lookup,l={},u=this.views=new Array(e.length),s=[],v=[],d=[],f=0;f<e.length;f++){var p=e[f],m=null!=r?p[r]:f,c=i[m];c?v[v.length]=c:(c=new n(this.initData,p),s[s.length]=c),c.update&&c.update(p),u[f]=c,l[m]=c}for(var m in i)if(!l[m]){var c=i[m];d[d.length]=c,c.remove?c.el.removing=!0:c.removing=!0}this.parent&&h(this.parent,u);for(var f=0;f<u.length;f++){var p=e[f],c=u[f];c.updated&&c.updated(p)}this.lookup=l,t&&t({added:s,updated:v,removed:d});for(var f=0;f<d.length;f++){var c=d[f];c.remove?this.parent&&o(this.parent,c):this.parent&&a(this.parent,c)}return this},e.el=t,e.svg=n,e.list=r,e.List=i,e.mount=l,e.mountBefore=u,e.unmount=a,e.setChildren=h}(this.f=this.f||{});