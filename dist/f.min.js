!function(e){"use strict";function n(e,n){var t=document.createElement(e);for(var o in n)t[o]=n[o];for(var l=2;l<arguments.length;l++)i(t,arguments[l]);return t}function t(e,n){return new o(e,n)}function o(e,n){this.View=e,this.key=n,this.lookup=null!=n?{}:[]}function i(e,n){n.el?((e.el||e).appendChild(n.el),n.mount&&n.mount()):(e.el||e).appendChild(n)}function l(e,n,t){n.el?((e.el||e).insertBefore(n.el,t.el||t),n.mount&&n.mount()):(e.el||e).insertBefore(n,t.el||t)}function r(e,n){n.el?((e.el||e).removeChild(n.el),n.unmount&&n.unmount()):(e.el||e).removeChild(n)}function u(e,n){for(var t=e.firstChild,o=0;o<n.length;o++){var r=n[o],u=r.el||r;u!==t?t?l(e,r,t):i(e,r):t=t.nextSibling}for(;t;){var f=t.nextSibling;t.removing||e.removeChild(t),t=f}}o.prototype.update=function(e,n){for(var t=this.View,o=this.key,i=this.lookup,l={},f=new Array(n.length),h=0;h<n.length;h++){var a=n[h],m=null!=o?a[o]:h,d=i[m]||new t(a);f[h]=d,l[m]=d,d.update&&d.update(a)}for(var m in i)l[m]||(i[m].remove?(i[m].el.removing=!0,i[m].remove(function(){r(e,i[m])})):r(e,i[m]));u(e,f);for(var h=0;h<n.length;h++)d.updated&&f[h].updated(n[h]);this.lookup=l},e.el=n,e.list=t,e.List=o,e.mount=i,e.mountBefore=l,e.unmount=r,e.setChildren=u}(this.f=this.f||{});