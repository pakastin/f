!function(e){"use strict";function t(e,t){var n=document.createElement(e);for(var r in t)n[r]=t[r];for(var i=2;i<arguments.length;i++)o(n,arguments[i]);return n}function n(e,t,n){return new r(e,t,n)}function r(e,t,n){this.View=e,this.key=t,this.lookup=null!=t?{}:[],this.views=[],n&&(this.onupdate=n.update,this.onupdated=n.updated)}function i(e,t){t.remove(function(){l(e,t)})}function o(e,t){return t instanceof r?(t.parent=e,void a(e,t.views)):void(t.el?((e.el||e).appendChild(t.el),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):(e.el||e).appendChild(t))}function u(e,t,n){t.el?((e.el||e).insertBefore(t.el,n.el||n),t.parent?t.reorder&&t.reorder():t.mount&&t.mount(),t.parent=e):(e.el||e).insertBefore(t,n.el||n)}function l(e,t){t.el?((e.el||e).removeChild(t.el),t.parent=null,t.unmount&&t.unmount()):(e.el||e).removeChild(t)}function a(e,t){for(var n=e.firstChild,r=0;r<t.length;r++){var i=t[r],l=i.el||i;l!==n?n?u(e,i,n):o(e,i):n=n.nextSibling}for(;n;){var a=n.nextSibling;n.removing||e.removeChild(n),n=a}}r.prototype.update=function(e){for(var t=this.View,n=this.key,r=this.lookup,o={},u=this.views=new Array(e.length),d=0;d<e.length;d++){var h=e[d],s=null!=n?h[n]:d,p=r[s]||new t(h);p.update&&p.update(h),u[d]=p,o[s]=p}this.onupdate&&this.onupdate(u);for(var s in r)o[s]||(r[s].remove?(r[s].el.removing=!0,i(this.parent,r[s])):this.parent&&l(this.parent,r[s]));this.parent&&a(this.parent,u);for(var d=0;d<u.length;d++){var h=e[d],p=u[d];p.updated&&p.updated(h)}this.onupdated&&this.onupdated(u),this.lookup=o},e.el=t,e.list=n,e.List=r,e.mount=o,e.mountBefore=u,e.unmount=l,e.setChildren=a}(this.f=this.f||{});